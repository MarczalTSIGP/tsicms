<% provide(:page_title, 'Galeria de documentos') %>

<div class="text-right mb-3">
  <%= link_to new_admins_document_path(@gallery.context),
              class: 'btn btn-secondary',
              title: 'Upload de documentos',
              data: { toggle: 'tooltip', placement: 'top' } do %>
    <i class="fas fa-plus"></i>
  <% end %>
</div>

<div id="gallery-<%= @gallery.context %>">
  <% @gallery.documents.in_groups_of(4, false).each do |documents| %>
    <div class="row row-cards">
      <% documents.each do |document| %>
        <div class="col-sm-12 col-md-3">
          <div class="card p-1">
            <a href="<%= document.file.url %>" target="_blank" class="document-card-body" id="document-<%= document.id %>">
              <i class="fa fa-file fa-5x"></i>

              <label for="document-<%= document.id %>">
                <%= File.basename(document.file.path) %>
              </label>
            </a>

            <div class="d-flex align-items-center px-2">
              <%= link_to edit_admins_document_path(@gallery.context, document) do %>
              <span class="icon mr-3">
                <i class="fas fa-edit" data-toggle="tooltip" data-placement="top" title="Editar"></i>
              </span>
              <% end %>

              <%= link_to admins_document_path(@gallery.context, document), method: :delete, data: { confirm: t('prompt.confirm') } do %>
              <span class="icon mr-3">
                <i class="fas fa-trash-alt" data-toggle="tooltip" data-placement="top" title="Remover"></i>
              </span>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
